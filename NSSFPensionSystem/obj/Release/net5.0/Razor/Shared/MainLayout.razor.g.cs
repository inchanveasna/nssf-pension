#pragma checksum "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ff50272e6744478ac83839cfe4d4c0c995b1d7d8"
// <auto-generated/>
#pragma warning disable 1591
namespace NSSFPensionSystem.Shared
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using NSSFPensionSystem;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using NSSFPensionSystem.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using NSSFPensionSystem.Shared.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using NSSFPensionSystem.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using NSSFPensionSystem.Services.Impl;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using NSSFPensionSystem.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using NSSFPensionSystem.Models.ViewModels;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using NSSFPensionSystem.Controllers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 18 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\_Imports.razor"
using NSSFPensionSystem.Setting;

#line default
#line hidden
#nullable disable
#nullable restore
#line 140 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 141 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Authentication;

#line default
#line hidden
#nullable disable
#nullable restore
#line 142 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor"
using System.Security.Claims;

#line default
#line hidden
#nullable disable
    public partial class MainLayout : LayoutComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Authorization.AuthorizeView>(0);
            __builder.AddAttribute(1, "Authorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
#nullable restore
#line 24 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor"
          
            if (context.User.Identity.IsAuthenticated)
            {
                var claim = context.User.Claims.ToList();

                UserModel userLogin = new UserModel()
                {
                    Name = claim.Where(w => w.Type == "name").FirstOrDefault()?.Value,
                    EmpId = Convert.ToInt32(claim.Where(w => w.Type == "emp_id").FirstOrDefault()?.Value),
                    Username = claim.Where(w => w.Type == "preferred_username").FirstOrDefault()?.Value,
                    Picture = claim.Where(w => w.Type == "picture").FirstOrDefault()?.Value,
                    AccessToken = claim.Where(w => w.Type == "access_token").FirstOrDefault()?.Value
                };

                this.LoginComplete(userLogin);

            }
            else
            {

#line default
#line hidden
#nullable disable
                __builder2.OpenComponent<NSSFPensionSystem.Shared.RedirectToLogin>(2);
                __builder2.CloseComponent();
#nullable restore
#line 44 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor"
            }
        

#line default
#line hidden
#nullable disable
            }
            ));
            __builder.AddAttribute(3, "NotAuthorized", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Authorization.AuthenticationState>)((context) => (__builder2) => {
                __builder2.OpenComponent<NSSFPensionSystem.Shared.RedirectToLogin>(4);
                __builder2.CloseComponent();
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(5, "\r\n\r\n\r\n\r\n\r\n");
            __builder.OpenElement(6, "div");
            __builder.AddAttribute(7, "class", "header-container fixed-top");
            __builder.AddAttribute(8, "b-hsldet3n9d");
            __builder.OpenElement(9, "header");
            __builder.AddAttribute(10, "class", "header navbar navbar-expand-sm");
            __builder.AddAttribute(11, "b-hsldet3n9d");
            __builder.AddMarkupContent(12, @"<ul class=""navbar-item theme-brand flex-row  text-center"" b-hsldet3n9d><li class=""nav-item theme-logo"" b-hsldet3n9d><a href=""index.html"" b-hsldet3n9d><img src=""template/assets/img/nssf-logo.png"" class=""navbar-logo"" alt=""logo"" b-hsldet3n9d></a></li>
            <li class=""nav-item theme-text"" b-hsldet3n9d><a href class=""nav-link"" b-hsldet3n9d> ប្រព័ន្ធសោធន </a></li></ul>


        ");
            __builder.OpenElement(13, "div");
            __builder.AddAttribute(14, "style", "display:flex; flex-direction: row; justify-content: center; align-items: flex-end; color: white;");
            __builder.AddAttribute(15, "class", "ml-md-auto");
            __builder.AddAttribute(16, "b-hsldet3n9d");
            __builder.OpenElement(17, "ul");
            __builder.AddAttribute(18, "class", "navbar-item flex-row ml-md-auto");
            __builder.AddAttribute(19, "b-hsldet3n9d");
            __builder.AddMarkupContent(20, @"<li class=""nav-item dropdown notification-dropdown"" b-hsldet3n9d><a href=""javascript:void(0);"" class=""nav-link dropdown-toggle"" id=""notificationDropdown"" data-toggle=""dropdown"" aria-haspopup=""true"" aria-expanded=""false"" b-hsldet3n9d><svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round"" class=""feather feather-bell"" b-hsldet3n9d><path d=""M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"" b-hsldet3n9d></path><path d=""M13.73 21a2 2 0 0 1-3.46 0"" b-hsldet3n9d></path></svg><span class=""badge badge-success"" b-hsldet3n9d></span></a></li>









                ");
            __builder.OpenElement(21, "li");
            __builder.AddAttribute(22, "class", "nav-item dropdown user-profile-dropdown");
            __builder.AddAttribute(23, "b-hsldet3n9d");
            __builder.AddMarkupContent(24, @"<a href=""javascript:void(0);"" class=""nav-link dropdown-toggle user"" id=""userProfileDropdown"" data-toggle=""dropdown"" aria-haspopup=""true"" aria-expanded=""true"" b-hsldet3n9d><svg viewBox=""0 0 24 24"" width=""24"" height=""24"" stroke=""currentColor"" stroke-width=""2"" fill=""none"" stroke-linecap=""round"" stroke-linejoin=""round"" class=""feather feather-bell"" b-hsldet3n9d><path d=""M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"" b-hsldet3n9d></path><circle cx=""12"" cy=""7"" r=""4"" b-hsldet3n9d></circle></svg></a>
                    ");
            __builder.OpenElement(25, "div");
            __builder.AddAttribute(26, "class", "dropdown-menu position-absolute");
            __builder.AddAttribute(27, "aria-labelledby", "userProfileDropdown");
            __builder.AddAttribute(28, "b-hsldet3n9d");
            __builder.OpenElement(29, "div");
            __builder.AddAttribute(30, "class");
            __builder.AddAttribute(31, "b-hsldet3n9d");
            __builder.OpenElement(32, "div");
            __builder.AddAttribute(33, "class", "dropdown-item");
            __builder.AddAttribute(34, "b-hsldet3n9d");
            __builder.OpenElement(35, "a");
            __builder.AddAttribute(36, "href", "javascript:void(0);");
            __builder.AddAttribute(37, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 101 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor"
                                                                        BeginSignOut

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(38, "b-hsldet3n9d");
            __builder.AddMarkupContent(39, @"<svg xmlns=""http://www.w3.org/2000/svg"" width=""24"" height=""24"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round"" class=""feather feather-log-out"" b-hsldet3n9d><path d=""M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"" b-hsldet3n9d></path>
                                        <polyline points=""16 17 21 12 16 7"" b-hsldet3n9d></polyline>
                                        <line x1=""21"" y1=""12"" x2=""9"" y2=""12"" b-hsldet3n9d></line></svg> ចាកចេញ
                                ");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(40, "\r\n\r\n");
            __builder.OpenComponent<NSSFPensionSystem.Shared.NavMenu>(41);
            __builder.CloseComponent();
            __builder.AddMarkupContent(42, "\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n");
            __builder.OpenElement(43, "div");
            __builder.AddAttribute(44, "class", "main-container");
            __builder.AddAttribute(45, "id", "container");
            __builder.AddAttribute(46, "b-hsldet3n9d");
            __builder.AddMarkupContent(47, "<div class=\"overlay\" b-hsldet3n9d></div>\r\n        <div class=\"search-overlay\" b-hsldet3n9d></div>\r\n        ");
            __builder.OpenComponent<NSSFPensionSystem.Shared.SidebarMenu>(48);
            __builder.AddAttribute(49, "menus", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Collections.Generic.List<NSSFPensionSystem.Models.MenuModel>>(
#nullable restore
#line 132 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor"
                             UserService.Current.Menus

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(50, "\r\n        ");
            __builder.OpenElement(51, "div");
            __builder.AddAttribute(52, "id", "content");
            __builder.AddAttribute(53, "class", "main-content");
            __builder.AddAttribute(54, "b-hsldet3n9d");
            __builder.AddContent(55, 
#nullable restore
#line 134 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor"
             Body

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 151 "C:\Users\INCHANVEASNA\source\repos\NSSFPensionSystem\NSSFPensionSystem\Shared\MainLayout.razor"
      

    protected override async Task OnInitializedAsync()
    {

    }

    private async Task BeginSignOut(MouseEventArgs args)
    {
        await SignOutManager.SetSignOutState();
        NavigationManager.NavigateTo("authentication/logout");
    }


    private async void LoginComplete(UserModel user)
    {
        if (UserService.Current.EmpId == 0)
        {
            UserService.Current = await userService.Get(user.EmpId);
            StateHasChanged();
        }
    }

    protected async override Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await runtime.InvokeAsync<object>("AppInit");
        }
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private SignOutSessionStateManager SignOutManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IUserService userService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime runtime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AuthenticationStateProvider AuthenticationStateProvider { get; set; }
    }
}
#pragma warning restore 1591
